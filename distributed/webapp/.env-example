# Webapp Environment Variables for Distributed Trigger.dev Setup
# ==============================================================
# This file is for the WEBAPP server (databases + trigger app)
# Workers connect to this webapp using the token generated at startup

# Required after first deployment (get network name from Coolify dashboard)
DOCKER_RUNNER_NETWORKS=your-generated-network-name

# Registry username (password is auto-generated by Coolify as SERVICE_PASSWORD_REGISTRY)
REGISTRY_USERNAME=trigger

# ============================================
# IMPORTANT: Save these values for workers
# ============================================
# After deployment, you need to provide these to your worker servers:
# 1. SERVICE_URL_TRIGGER (webapp URL)
# 2. SERVICE_URL_REGISTRY (registry URL)
# 3. TRIGGER_WORKER_TOKEN (from logs: docker logs <trigger-container> | grep "Worker Token")
# 4. SERVICE_PASSWORD_MANAGEDWORKER (same secret as webapp)
# 5. SERVICE_PASSWORD_REGISTRY (auto-generated registry password)
# 6. REGISTRY_USERNAME (default: trigger)

# ============================================
# BACKUP CONFIGURATION (Optional)
# Set BACKUP_ENABLED=true to enable automatic backups
# ============================================

# Enable backups (set to "true" to enable)
BACKUP_ENABLED=false

# S3-Compatible Storage (Required when backups are enabled)
BACKUP_S3_ENDPOINT=https://s3.amazonaws.com
BACKUP_S3_BUCKET=my-trigger-backups
BACKUP_S3_ACCESS_KEY_ID=your-access-key
BACKUP_S3_SECRET_ACCESS_KEY=your-secret-key
BACKUP_S3_REGION=us-east-1

# PostgreSQL Backup Settings (Optional - defaults shown)
# BACKUP_POSTGRES_SCHEDULE=0 2 * * *
# BACKUP_POSTGRES_KEEP_DAYS=60

# Redis Backup Settings (Optional - defaults shown)
# BACKUP_REDIS_SCHEDULE=0 3 * * *
# BACKUP_REDIS_KEEP_DAYS=60
